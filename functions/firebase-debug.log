[debug] [2025-11-13T22:19:18.185Z] ----------------------------------------------------------------------
[debug] [2025-11-13T22:19:18.189Z] Command:       /usr/local/bin/node /usr/local/bin/firebase emulators:start --only functions,hosting
[debug] [2025-11-13T22:19:18.190Z] CLI Version:   14.24.2
[debug] [2025-11-13T22:19:18.190Z] Platform:      darwin
[debug] [2025-11-13T22:19:18.190Z] Node Version:  v22.13.1
[debug] [2025-11-13T22:19:18.190Z] Time:          Thu Nov 13 2025 23:19:18 GMT+0100 (GMT+01:00)
[debug] [2025-11-13T22:19:18.191Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-11-13T22:19:18.398Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-11-13T22:19:18.398Z] > authorizing via signed-in user (youssef.belahmar@jyomer.com)
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2025-11-13T22:19:19.378Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[warn] ⚠  hosting: Hosting Emulator unable to start on port 5000, starting on 5002 instead. {"metadata":{"emulator":{"name":"hosting"},"message":"Hosting Emulator unable to start on port 5000, starting on 5002 instead."}}
[debug] [2025-11-13T22:19:19.379Z] [hosting] Hosting Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-11-13T22:19:19.379Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":5002}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2025-11-13T22:19:19.382Z] Emulator locator file path: /var/folders/ds/7q12xtl552scsp7dykynnnch0000gn/T/hub-jylweb-4-0.json
[debug] [2025-11-13T22:19:19.383Z] [hub] writing locator at /var/folders/ds/7q12xtl552scsp7dykynnnch0000gn/T/hub-jylweb-4-0.json
[debug] [2025-11-13T22:19:20.018Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-11-13T22:19:20.018Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-11-13T22:19:20.018Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-11-13T22:19:20.018Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":5002}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, auth, firestore, database, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, auth, firestore, database, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-11-13T22:19:20.035Z] defaultcredentials: writing to file /Users/youssefbelahmar/.config/firebase/youssef_belahmar_jyomer.com_application_default_credentials.json
[debug] [2025-11-13T22:19:20.037Z] Setting GAC to /Users/youssefbelahmar/.config/firebase/youssef_belahmar_jyomer.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/youssefbelahmar/.config/firebase/youssef_belahmar_jyomer.com_application_default_credentials.json"}}
[debug] [2025-11-13T22:19:20.038Z] Checked if tokens are valid: false, expires at: 1763063484558
[debug] [2025-11-13T22:19:20.038Z] Checked if tokens are valid: false, expires at: 1763063484558
[debug] [2025-11-13T22:19:20.038Z] > refreshing access token with scopes: []
[debug] [2025-11-13T22:19:20.040Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-11-13T22:19:20.040Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-11-13T22:19:20.284Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2025-11-13T22:19:20.284Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-11-13T22:19:20.335Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/jylweb-4-0/adminSdkConfig [none]
[debug] [2025-11-13T22:19:20.696Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/jylweb-4-0/adminSdkConfig 200
[debug] [2025-11-13T22:19:20.697Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/jylweb-4-0/adminSdkConfig {"projectId":"jylweb-4-0","storageBucket":"jylweb-4-0.firebasestorage.app"}
[debug] [2025-11-13T22:19:20.734Z] Checked if tokens are valid: true, expires at: 1763075959284
[debug] [2025-11-13T22:19:20.734Z] Checked if tokens are valid: true, expires at: 1763075959284
[debug] [2025-11-13T22:19:20.734Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/jylweb-4-0/sites 
[debug] [2025-11-13T22:19:21.687Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/jylweb-4-0/sites 200
[debug] [2025-11-13T22:19:21.687Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/jylweb-4-0/sites {"sites":[{"name":"projects/jylweb-4-0/sites/jylweb-4-0","defaultUrl":"https://jylweb-4-0.web.app","type":"DEFAULT_SITE"}]}
[debug] [2025-11-13T22:19:21.687Z] Checked if tokens are valid: true, expires at: 1763075959284
[debug] [2025-11-13T22:19:21.688Z] Checked if tokens are valid: true, expires at: 1763075959284
[debug] [2025-11-13T22:19:21.688Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/jylweb-4-0/webApps/-/config [none]
[debug] [2025-11-13T22:19:22.154Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/jylweb-4-0/webApps/-/config 200
[debug] [2025-11-13T22:19:22.154Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/jylweb-4-0/webApps/-/config {"projectId":"jylweb-4-0","appId":"1:389003033803:web:8f8d374ac928f452b72f4e","storageBucket":"jylweb-4-0.firebasestorage.app","apiKey":"AIzaSyCO6d0b4cTeTH87yG1InE0j-qCAuL4iyDU","authDomain":"jylweb-4-0.firebaseapp.com","messagingSenderId":"389003033803","measurementId":"G-554SZFD6NR","projectNumber":"389003033803","version":"2"}
[debug] [2025-11-13T22:19:22.175Z] Checked if tokens are valid: true, expires at: 1763075959284
[debug] [2025-11-13T22:19:22.176Z] Checked if tokens are valid: true, expires at: 1763075959284
[debug] [2025-11-13T22:19:22.176Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/jylweb-4-0 [none]
[debug] [2025-11-13T22:19:22.421Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/jylweb-4-0 200
[debug] [2025-11-13T22:19:22.422Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/jylweb-4-0 {"projectId":"jylweb-4-0","projectNumber":"389003033803","displayName":"jyLWeb","name":"projects/jylweb-4-0","resources":{"hostingSite":"jylweb-4-0"},"state":"ACTIVE","etag":"1_c389f624-eb19-499c-b385-e0ce95cf1220"}
[debug] [2025-11-13T22:19:22.424Z] Specified "public" directory "dist" does not exist; Deploy to Hosting site "jylweb-4-0" may fail or be empty.
[info] i  hosting[jylweb-4-0]: Serving hosting files from: dist {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mdist\u001b[22m"}}
[info] ✔  hosting[jylweb-4-0]: Local server: http://127.0.0.1:5002 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://127.0.0.1:5002\u001b[22m\u001b[24m"}}
[info] i  functions: Watching "/Volumes/ExtremePro_APFS_512GB/jylweb-mvc-web/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Volumes/ExtremePro_APFS_512GB/jylweb-mvc-web/functions\" for Cloud Functions..."}}
[debug] [2025-11-13T22:19:22.563Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-11-13T22:19:23.564Z] > [functions] package.json contents: {
  "name": "functions",
  "version": "1.0.0",
  "type": "module",
  "engines": {
    "node": "20"
  },
  "main": "dist/index.js",
  "scripts": {
    "build": "tsc -p tsconfig.json",
    "serve": "npm run build && firebase emulators:start --only functions,hosting",
    "deploy": "npm run build && firebase deploy --only functions"
  },
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-functions": "^4.7.0",
    "jszip": "^3.10.1",
    "openai": "^6.8.1",
    "zod": "^3.23.8"
  },
  "devDependencies": {
    "typescript": "^5.6.3"
  }
}
[debug] [2025-11-13T22:19:23.565Z] Building nodejs source
[debug] [2025-11-13T22:19:23.565Z] Failed to find version of module node: reached end of search path /Volumes/ExtremePro_APFS_512GB/jylweb-mvc-web/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "20" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: You are using a version of firebase-functions SDK (4.9.0) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2025-11-13T22:19:23.569Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-11-13T22:19:23.577Z] Found firebase-functions binary at '/Volumes/ExtremePro_APFS_512GB/jylweb-mvc-web/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8758

[error] Error [ERR_MODULE_NOT_FOUND]: Cannot find module '/Volumes/ExtremePro_APFS_512GB/jylweb-mvc-web/functions/dist/prompts' imported from /Volumes/ExtremePro_APFS_512GB/jylweb-mvc-web/functions/dist/index.js
    at finalizeResolution (node:internal/modules/esm/resolve:275:11)
    at moduleResolve (node:internal/modules/esm/resolve:932:10)
    at defaultResolve (node:internal/modules/esm/resolve:1056:11)
    at ModuleLoader.defaultResolve (node:internal/modules/esm/loader:654:12)
    at #cachedDefaultResolve (node:internal/modules/esm/loader:603:25)
    at ModuleLoader.getModuleJobForRequire (node:internal/modules/esm/loader:353:53)
    at new ModuleJobSync (node:internal/modules/esm/module_job:341:34)
    at ModuleLoader.importSyncForRequire (node:internal/modules/esm/loader:326:11)
    at loadESMFromCJS (node:internal/modules/cjs/loader:1411:24)
    at Module._compile (node:internal/modules/cjs/loader:1544:5) {
  code: 'ERR_MODULE_NOT_FOUND',
  url: 'file:///Volumes/ExtremePro_APFS_512GB/jylweb-mvc-web/functions/dist/prompts'
}

[debug] [2025-11-13T22:19:25.020Z] Got response code 400; body Failed to generate manifest from function source: Error [ERR_MODULE_NOT_FOUND]: Cannot find module '/Volumes/ExtremePro_APFS_512GB/jylweb-mvc-web/functions/dist/prompts' imported from /Volumes/ExtremePro_APFS_512GB/jylweb-mvc-web/functions/dist/index.js
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2025-11-13T22:19:29.040Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: . If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Hosting   │ 127.0.0.1:5002 │ n/a                             │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
